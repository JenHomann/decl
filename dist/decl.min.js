!function t(e,n,o){function i(s,c){if(!n[s]){if(!e[s]){var a="function"==typeof require&&require;if(!c&&a)return a(s,!0);if(r)return r(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var h=n[s]={exports:{}};e[s][0].call(h.exports,function(t){var n=e[s][1][t];return i(n||t)},h,h.exports,t,e,n,o)}return n[s].exports}for(var r="function"==typeof require&&require,s=0;s<o.length;s++)i(o[s]);return i}({1:[function(t,e,n){function o(t){S.push(t),w||(w=!0,N(r))}function i(t){return window.ShadowDOMPolyfill&&window.ShadowDOMPolyfill.wrapIfNeeded(t)||t}function r(){w=!1;var t=S;S=[],t.sort(function(t,e){return t.uid_-e.uid_});var e=!1;t.forEach(function(t){var n=t.takeRecords();s(t),n.length&&(t.callback_(n,t),e=!0)}),e&&r()}function s(t){t.nodes_.forEach(function(e){var n=M.get(e);n&&n.forEach(function(e){e.observer===t&&e.removeTransientObservers()})})}function c(t,e){for(var n=t;n;n=n.parentNode){var o=M.get(n);if(o)for(var i=0;i<o.length;i++){var r=o[i],s=r.options;if(n===t||s.subtree){var c=e(s);c&&r.enqueue(c)}}}}function a(t){this.callback_=t,this.nodes_=[],this.records_=[],this.uid_=++C}function u(t,e){this.type=t,this.target=e,this.addedNodes=[],this.removedNodes=[],this.previousSibling=null,this.nextSibling=null,this.attributeName=null,this.attributeNamespace=null,this.oldValue=null}function h(t){var e=new u(t.type,t.target);return e.addedNodes=t.addedNodes.slice(),e.removedNodes=t.removedNodes.slice(),e.previousSibling=t.previousSibling,e.nextSibling=t.nextSibling,e.attributeName=t.attributeName,e.attributeNamespace=t.attributeNamespace,e.oldValue=t.oldValue,e}function d(t,e){return D=new u(t,e)}function l(t){return A||(A=h(D),A.oldValue=t,A)}function p(){D=A=void 0}function f(t){return t===A||t===D}function v(t,e){return t===e?t:A&&f(t)?A:null}function _(t,e,n){this.observer=t,this.target=e,this.options=n,this.transientObservedNodes=[]}var y=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver,b=window.WeakMap;if(void 0===b){var g=Object.defineProperty,m=Date.now()%1e9;b=function(){this.name="__st"+(1e9*Math.random()>>>0)+m+++"__"},b.prototype={set:function(t,e){var n=t[this.name];return n&&n[0]===t?n[1]=e:g(t,this.name,{value:[t,e],writable:!0}),this},get:function(t){var e;return(e=t[this.name])&&e[0]===t?e[1]:void 0},delete:function(t){var e=t[this.name];if(!e)return!1;var n=e[0]===t;return e[0]=e[1]=void 0,n},has:function(t){var e=t[this.name];return!!e&&e[0]===t}}}var M=new b,N=window.msSetImmediate;if(!N){var O=[],E=String(Math.random());window.addEventListener("message",function(t){if(t.data===E){var e=O;O=[],e.forEach(function(t){t()})}}),N=function(t){O.push(t),window.postMessage(E,"*")}}var w=!1,S=[],C=0;a.prototype={observe:function(t,e){if(t=i(t),!e.childList&&!e.attributes&&!e.characterData||e.attributeOldValue&&!e.attributes||e.attributeFilter&&e.attributeFilter.length&&!e.attributes||e.characterDataOldValue&&!e.characterData)throw new SyntaxError;var n=M.get(t);n||M.set(t,n=[]);for(var o,r=0;r<n.length;r++)if(n[r].observer===this){o=n[r],o.removeListeners(),o.options=e;break}o||(o=new _(this,t,e),n.push(o),this.nodes_.push(t)),o.addListeners()},disconnect:function(){this.nodes_.forEach(function(t){for(var e=M.get(t),n=0;n<e.length;n++){var o=e[n];if(o.observer===this){o.removeListeners(),e.splice(n,1);break}}},this),this.records_=[]},takeRecords:function(){var t=this.records_;return this.records_=[],t}};var D,A;_.prototype={enqueue:function(t){var e=this.observer.records_,n=e.length;if(e.length>0){var i=e[n-1],r=v(i,t);if(r)return void(e[n-1]=r)}else o(this.observer);e[n]=t},addListeners:function(){this.addListeners_(this.target)},addListeners_:function(t){var e=this.options;e.attributes&&t.addEventListener("DOMAttrModified",this,!0),e.characterData&&t.addEventListener("DOMCharacterDataModified",this,!0),e.childList&&t.addEventListener("DOMNodeInserted",this,!0),(e.childList||e.subtree)&&t.addEventListener("DOMNodeRemoved",this,!0)},removeListeners:function(){this.removeListeners_(this.target)},removeListeners_:function(t){var e=this.options;e.attributes&&t.removeEventListener("DOMAttrModified",this,!0),e.characterData&&t.removeEventListener("DOMCharacterDataModified",this,!0),e.childList&&t.removeEventListener("DOMNodeInserted",this,!0),(e.childList||e.subtree)&&t.removeEventListener("DOMNodeRemoved",this,!0)},addTransientObserver:function(t){if(t!==this.target){this.addListeners_(t),this.transientObservedNodes.push(t);var e=M.get(t);e||M.set(t,e=[]),e.push(this)}},removeTransientObservers:function(){var t=this.transientObservedNodes;this.transientObservedNodes=[],t.forEach(function(t){this.removeListeners_(t);for(var e=M.get(t),n=0;n<e.length;n++)if(e[n]===this){e.splice(n,1);break}},this)},handleEvent:function(t){switch(t.stopImmediatePropagation(),t.type){case"DOMAttrModified":var e=t.attrName,n=t.relatedNode.namespaceURI,o=t.target,i=new d("attributes",o);i.attributeName=e,i.attributeNamespace=n;var r=t.attrChange===MutationEvent.ADDITION?null:t.prevValue;c(o,function(t){if(t.attributes&&(!t.attributeFilter||!t.attributeFilter.length||-1!==t.attributeFilter.indexOf(e)||-1!==t.attributeFilter.indexOf(n)))return t.attributeOldValue?l(r):i});break;case"DOMCharacterDataModified":var o=t.target,i=d("characterData",o),r=t.prevValue;c(o,function(t){if(t.characterData)return t.characterDataOldValue?l(r):i});break;case"DOMNodeRemoved":this.addTransientObserver(t.target);case"DOMNodeInserted":var s,a,o=t.relatedNode,u=t.target;"DOMNodeInserted"===t.type?(s=[u],a=[]):(s=[],a=[u]);var h=u.previousSibling,f=u.nextSibling,i=d("childList",o);i.addedNodes=s,i.removedNodes=a,i.previousSibling=h,i.nextSibling=f,c(o,function(t){if(t.childList)return i})}p()}},y||(y=a),e.exports=y},{}],2:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=t("./scope");n.Scope=o.Scope;var i=function(){function t(t){this.scope=o.Scope.buildRootScope(t)}return t.select=function(t,e){return this.getDefaultInstance().select(t,e)},t.on=function(t,e){return this.getDefaultInstance().on(t,e)},t.getRootScope=function(){return this.getDefaultInstance().getRootScope()},t.inspect=function(t){this.getDefaultInstance().inspect(t)},t.getDefaultInstance=function(){return this.defaultInstance||(this.defaultInstance=new t(window.document))},t.setDefaultInstance=function(t){return this.defaultInstance=t},t.pristine=function(){this.defaultInstance&&(this.defaultInstance.pristine(),this.defaultInstance=null)},t.prototype.select=function(t,e){return this.scope.select(t,e)},t.prototype.on=function(t,e){return this.scope.on(t,e)},t.prototype.getRootScope=function(){return this.scope},t.prototype.inspect=function(t){console.groupCollapsed("<<root>>");try{this.scope.inspect(t)}finally{console.groupEnd()}},t.prototype.pristine=function(){this.scope.pristine()},t}();i.defaultInstance=null,n.Decl=i,"undefined"!=typeof window&&(window.Decl=i),n.default=i},{"./scope":11}],3:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(t){this.isActivated=!1,this.node=t}return t.prototype.activate=function(){this.isActivated||(this.isActivated=!0,this.subscription.connect())},t.prototype.deactivate=function(){this.isActivated&&(this.isActivated=!1,this.subscription.disconnect())},t}();n.Declaration=o},{}],4:[function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=t("./declaration"),r=t("../subscriptions/trivial_subscription"),s=function(t){function e(e,n){var o=t.call(this,e)||this;return o.executor=n,o.subscription=new r.TrivialSubscription(o.node,{connected:!0},o.executor),o}return o(e,t),e.prototype.inspect=function(){console.groupCollapsed("matches"),console.log(this.executor),console.groupEnd()},e}(i.Declaration);n.MatchDeclaration=s},{"../subscriptions/trivial_subscription":17,"./declaration":3}],5:[function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=t("./declaration"),r=t("../subscriptions/event_subscription"),s=function(t){function e(e,n,o){var i=t.call(this,e)||this;return i.matcher=n,i.executor=o,i.subscription=new r.EventSubscription(i.node,i.matcher,i.executor),i}return o(e,t),e.prototype.inspect=function(){console.groupCollapsed("on",this.matcher);try{console.log(this.executor)}finally{console.groupEnd()}},e}(i.Declaration);n.OnDeclaration=s},{"../subscriptions/event_subscription":13,"./declaration":3}],6:[function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=t("./declaration"),r=t("../scope"),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.childScopes=[],e}return o(e,t),e.prototype.deactivate=function(){this.removeAllChildScopes(),t.prototype.deactivate.call(this)},e.prototype.getChildScopes=function(){return this.childScopes},e.prototype.inspectChildScopes=function(t){for(var e=0,n=this.childScopes;e<n.length;e++){n[e].inspect(t)}},e.prototype.addChildScope=function(t){this.isActivated&&(this.childScopes.push(t),t.activate())},e.prototype.removeChildScope=function(t){if(t.deactivate(),this.isActivated){var e=this.childScopes.indexOf(t);e>=0&&this.childScopes.splice(e,1)}},e.prototype.removeAllChildScopes=function(){for(var t;t=this.childScopes[0];)this.removeChildScope(t)},e.prototype.addChildScopeByNode=function(t,e){var n=new r.Scope(t,e);this.addChildScope(n)},e.prototype.removeChildScopeByNode=function(t){for(var e=0,n=this.childScopes;e<n.length;e++){var o=n[e];if(o.getNode()===t)return void this.removeChildScope(o)}},e}(i.Declaration);n.ScopeTrackingDeclaration=s},{"../scope":11,"./declaration":3}],7:[function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=t("./scope_tracking_declaration"),r=t("../subscriptions/matching_nodes_subscription"),s=function(t){function e(e,n,o){var i=t.call(this,e)||this;return i.matcher=n,i.executor=o,i.subscription=new r.MatchingNodesSubscription(i.node,i.matcher,function(t){for(var e=0,n=t.addedNodes;e<n.length;e++){var o=n[e];i.addChildScopeByNode(o,i.executor)}for(var r=0,s=t.removedNodes;r<s.length;r++){var c=s[r];i.removeChildScopeByNode(c)}}),i}return o(e,t),e.prototype.inspect=function(t){console.groupCollapsed("select",this.matcher);try{this.inspectChildScopes(t)}finally{console.groupEnd()}},e}(i.ScopeTrackingDeclaration);n.SelectDeclaration=s},{"../subscriptions/matching_nodes_subscription":14,"./scope_tracking_declaration":6}],8:[function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=t("./declaration"),r=t("../subscriptions/trivial_subscription"),s=function(t){function e(e,n){var o=t.call(this,e)||this;return o.executor=n,o.subscription=new r.TrivialSubscription(o.node,{disconnected:!0},o.executor),o}return o(e,t),e.prototype.inspect=function(){console.groupCollapsed("unmatches"),console.log(this.executor),console.groupEnd()},e}(i.Declaration);n.UnmatchDeclaration=s},{"../subscriptions/trivial_subscription":17,"./declaration":3}],9:[function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=t("./scope_tracking_declaration"),r=t("../subscriptions/node_matches_subscription"),s=function(t){function e(e,n,o){var i=t.call(this,e)||this;return i.matcher=n,i.executor=o,i.subscription=new r.NodeMatchesSubscription(i.node,i.matcher,function(t){t.isMatching?i.addChildScopeByNode(i.node,i.executor):i.removeChildScopeByNode(i.node)}),i}return o(e,t),e.prototype.inspect=function(t){console.groupCollapsed("when",this.matcher);try{this.inspectChildScopes(t)}finally{console.groupEnd()}},e}(i.ScopeTrackingDeclaration);n.WhenDeclaration=s},{"../subscriptions/node_matches_subscription":15,"./scope_tracking_declaration":6}],10:[function(t,e,n){"use strict";function o(t){return"object"==typeof t&&"number"==typeof t.length}function i(t){if(o(t))return Array.prototype.slice.call(t,0);throw new TypeError("Expected ArrayLike")}function r(t,e){return-1!==Array.prototype.indexOf.call(t,e)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function t(){}return t.isMatchingNode=function(t,e){return this.getInstance().isMatchingNode(t,e)},t.collectMatchingNodes=function(t,e){return this.getInstance().collectMatchingNodes(t,e)},t.getInstance=function(){return this.instance||(this.instance=new t)},t.prototype.isMatchingNode=function(e,n){switch(typeof n){default:throw new TypeError(t.ELEMENT_MATCHER_TYPE_ERROR_MESSAGE);case"string":var o=n;return this.isMatchingNodeFromCssSelector(e,o);case"object":var i=n;return this.isMatchingNodeFromObject(e,i);case"function":var r=n;return this.isMatchingNodeFromNodeVistor(e,r)}},t.prototype.collectMatchingNodes=function(e,n){switch(typeof n){default:throw new TypeError(t.ELEMENT_MATCHER_TYPE_ERROR_MESSAGE);case"string":var o=n;return this.collectMatchingNodesFromCssSelector(e,o);case"object":var i=n;return this.collectMatchingNodesFromObject(e,i);case"function":var r=n;return this.collectMatchingNodesFromNodeVistor(e,r)}},t.prototype.isMatchingNodeFromCssSelector=function(t,e){return t instanceof Element&&"function"==typeof t.matches?t.matches(e):r(t.ownerDocument.querySelectorAll(e),t)},t.prototype.isMatchingNodeFromObject=function(e,n){if(null===n)return!1;if(o(n)){var i=n;if(0===i.length||i[0]instanceof Node)return r(i,e);throw new TypeError(t.ELEMENT_MATCHER_TYPE_ERROR_MESSAGE)}throw new TypeError(t.ELEMENT_MATCHER_TYPE_ERROR_MESSAGE)},t.prototype.isMatchingNodeFromNodeVistor=function(t,e){var n=e(t);if("boolean"==typeof n){return n}var o=n;return this.isMatchingNode(t,o)},t.prototype.collectMatchingNodesFromCssSelector=function(t,e){return t instanceof Element||t instanceof Document||t instanceof DocumentFragment?i(t.querySelectorAll(e)):[]},t.prototype.collectMatchingNodesFromObject=function(e,n){if(null===n)return[];if(o(n)){var r=n;if(0===r.length||r[0]instanceof Node)return i(r);throw new TypeError(t.ELEMENT_MATCHER_TYPE_ERROR_MESSAGE)}throw new TypeError(t.ELEMENT_MATCHER_TYPE_ERROR_MESSAGE)},t.prototype.collectMatchingNodesFromNodeVistor=function(t,e){for(var n=[],o=t.childNodes,i=0,r=o.length;i<r;i++){var s=o[i];if(s instanceof Node){var c=s,a=e(c);if("boolean"==typeof a){a&&n.push(c)}else n.push.apply(n,this.collectMatchingNodes(c,a))}}return n},t}();s.ELEMENT_MATCHER_TYPE_ERROR_MESSAGE="Decl: An `NodeMatcher` must be a CSS selector (string) or a function which takes a node under consideration and returns a CSS selector (string) that matches all matching nodes in the subtree, an array-like object of matching nodes in the subtree, or a boolean value as to whether the node should be included (in this case, the function will be invoked again for all children of the node).",n.NodeCollector=s,n.default=s},{}],11:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=t("./declarations/declaration");n.Declaration=o.Declaration;var i=t("./declarations/match_declaration"),r=t("./declarations/unmatch_declaration"),s=t("./declarations/on_declaration"),c=t("./declarations/select_declaration"),a=t("./declarations/when_declaration"),u=function(){function t(t,e){this.executors=[],this.isActivated=!1,this.declarations=[],this.node=t,e&&this.addExecutor(e)}return t.buildRootScope=function(e){var n=new t(e);return n.activate(),n},t.prototype.addExecutor=function(t){return this.executors.push(t),t.call(this,this,this.node)},t.prototype.getNode=function(){return this.node},t.prototype.getDeclarations=function(){return this.declarations},t.prototype.inspect=function(t){console.groupCollapsed(this.node);try{if(t){console.groupCollapsed("source");for(var e=0,n=this.executors;e<n.length;e++){var o=n[e];console.log(o)}console.groupEnd()}for(var i=0,r=this.declarations;i<r.length;i++){r[i].inspect(t)}}finally{console.groupEnd()}},t.prototype.activate=function(){if(!this.isActivated){this.isActivated=!0;for(var t=0,e=this.declarations;t<e.length;t++){e[t].activate()}}},t.prototype.deactivate=function(){if(this.isActivated){this.isActivated=!1;for(var t=0,e=this.declarations;t<e.length;t++){e[t].deactivate()}}},t.prototype.pristine=function(){this.deactivate(),this.removeAllDeclarations()},t.prototype.match=function(t){return this.addDeclaration(new i.MatchDeclaration(this.node,t)),this},t.prototype.unmatch=function(t){return this.addDeclaration(new r.UnmatchDeclaration(this.node,t)),this},t.prototype.select=function(t,e){return this.addDeclaration(new c.SelectDeclaration(this.node,t,e)),this},t.prototype.when=function(t,e){return this.addDeclaration(new a.WhenDeclaration(this.node,t,e)),this},t.prototype.on=function(t,e,n){var o=arguments.length;switch(o){case 2:return this.onWithTwoArguments(t,e);case 3:return this.onWithThreeArguments(t,e,n);default:throw new TypeError("Failed to execute 'on' on 'Scope': 2 or 3 arguments required, but "+o+" present.")}},t.prototype.onWithTwoArguments=function(t,e){return this.addDeclaration(new s.OnDeclaration(this.node,t,e)),this},t.prototype.onWithThreeArguments=function(t,e,n){return this.select(e,function(e){e.on(t,n)}),this},t.prototype.addDeclaration=function(t){this.declarations.push(t),this.isActivated&&t.activate()},t.prototype.removeDeclaration=function(t){var e=this.declarations.indexOf(t);e>=0&&this.declarations.splice(e,1),t.deactivate()},t.prototype.removeAllDeclarations=function(){for(var t;t=this.declarations[0];)this.removeDeclaration(t)},t}();n.Scope=u},{"./declarations/declaration":3,"./declarations/match_declaration":4,"./declarations/on_declaration":5,"./declarations/select_declaration":7,"./declarations/unmatch_declaration":8,"./declarations/when_declaration":9}],12:[function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=t("./subscription");n.Subscription=i.Subscription,n.SubscriptionEvent=i.SubscriptionEvent;var r=t("mutation-observer"),s=function(t){function e(e,n){var o=t.call(this,e,n)||this;return o.isListening=!1,o.handleMutationTimeout=null,o.mutationCallback=function(){o.deferHandleMutations()},o.mutationObserver=new r(o.mutationCallback),o}return o(e,t),e.prototype.startListening=function(){this.isListening||(this.mutationObserver.observe(this.node,e.mutationObserverInit),this.isListening=!0)},e.prototype.stopListening=function(){this.isListening&&(this.mutationObserver.disconnect(),this.handleMutationsNow(),this.isListening=!1)},e.prototype.deferHandleMutations=function(){var t=this;null===this.handleMutationTimeout&&(this.handleMutationTimeout=setTimeout(function(){try{t.mutationObserver.takeRecords(),t.handleMutations()}finally{t.handleMutationTimeout=null}},0))},e.prototype.handleMutationsNow=function(){null!==this.handleMutationTimeout&&(clearTimeout(this.handleMutationTimeout),this.handleMutationTimeout=null,this.handleMutations())},e}(i.Subscription);s.mutationObserverInit={childList:!0,attributes:!0,characterData:!0,subtree:!0},n.BatchedMutationSubscription=s},{"./subscription":16,"mutation-observer":1}],13:[function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=t("./subscription"),r=function(t){function e(e,n,o){var i=t.call(this,e,o)||this;return i.isConnected=!1,i.eventMatcher=n,i.eventNames=i.parseEventMatcher(i.eventMatcher),i.eventListener=function(t){i.handleEvent(t)},i}return o(e,t),e.prototype.connect=function(){if(!this.isConnected){this.isConnected=!0;for(var t=0,e=this.eventNames;t<e.length;t++){var n=e[t];this.node.addEventListener(n,this.eventListener,!1)}}},e.prototype.disconnect=function(){if(this.isConnected){for(var t=0,e=this.eventNames;t<e.length;t++){var n=e[t];this.node.removeEventListener(n,this.eventListener,!1)}this.isConnected=!1}},e.prototype.handleEvent=function(t){this.executor(t,this.node)},e.prototype.parseEventMatcher=function(t){return t.split(" ")},e}(i.Subscription);n.EventSubscription=r},{"./subscription":16}],14:[function(t,e,n){"use strict";function o(t,e){for(var n=[],o=0,i=t;o<i.length;o++){var r=i[o];-1===e.indexOf(r)&&n.push(r)}return n}var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var r=t("./batched_mutation_subscription"),s=t("../node_collector"),c=function(t){function e(e,n,o){var i=t.call(this,e,o)||this;return i.isConnected=!1,i.matchingNodes=[],i.matcher=n,i}return i(e,t),e.prototype.connect=function(){this.isConnected||(this.updateMatchingNode(this.collectMatchingNodes()),this.startListening(),this.isConnected=!0)},e.prototype.disconnect=function(){this.isConnected&&(this.stopListening(),this.updateMatchingNode([]),this.isConnected=!1)},e.prototype.handleMutations=function(){this.updateMatchingNode(this.collectMatchingNodes())},e.prototype.updateMatchingNode=function(t){var e=this.matchingNodes,n=o(t,e),i=o(e,t);if(this.matchingNodes=t,n.length>0||i.length>0){var r=new a(this,n,i);this.executor(r,this.node)}},e.prototype.collectMatchingNodes=function(){return s.NodeCollector.collectMatchingNodes(this.node,this.matcher)},e}(r.BatchedMutationSubscription);n.MatchingNodesSubscription=c;var a=function(t){function e(e,n,o){var i=t.call(this,e,"MatchingNodesChanged")||this;return i.addedNodes=n,i.removedNodes=o,i}return i(e,t),e}(r.SubscriptionEvent);n.MatchingNodesChangedEvent=a},{"../node_collector":10,"./batched_mutation_subscription":12}],15:[function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=t("./batched_mutation_subscription"),r=t("../node_collector"),s=function(t){function e(e,n,o){var i=t.call(this,e,o)||this;return i.isConnected=!1,i.isMatchingNode=!1,i.matcher=n,i}return o(e,t),e.prototype.connect=function(){this.isConnected||(this.updateIsMatchingNode(this.computeIsMatchingNode()),this.startListening(),this.isConnected=!0)},e.prototype.disconnect=function(){this.isConnected&&(this.stopListening(),this.updateIsMatchingNode(!1),this.isConnected=!1)},e.prototype.handleMutations=function(){this.updateIsMatchingNode(this.computeIsMatchingNode())},e.prototype.updateIsMatchingNode=function(t){var e=this.isMatchingNode;if(this.isMatchingNode=t,e!==t){var n=new c(this,t);this.executor(n,this.node)}},e.prototype.computeIsMatchingNode=function(){return r.NodeCollector.isMatchingNode(this.node,this.matcher)},e}(i.BatchedMutationSubscription);n.NodeMatchesSubscription=s;var c=function(t){function e(e,n){var o=t.call(this,e,"NodeMatchesChangedEvent")||this;return o.isMatching=n,o}return o(e,t),e}(i.SubscriptionEvent);n.NodeMatchesChangedEvent=c},{"../node_collector":10,"./batched_mutation_subscription":12}],16:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(t,e){this.node=t,this.executor=e}return t}();n.Subscription=o;var i=function(){function t(t,e){this.subscription=t,this.name=e}return t}();n.SubscriptionEvent=i},{}],17:[function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=t("./subscription"),r=function(t){function e(e,n,o){var i=t.call(this,e,"NodeConnected")||this;return i.node=n,i.isConnected=o,i}return o(e,t),e}(i.SubscriptionEvent);n.NodeConnectionChangedEvent=r;var s=function(t){function e(e,n,o){var i=t.call(this,e,o)||this;return i.isConnected=!1,i.config=n,i}return o(e,t),e.prototype.connect=function(){this.isConnected||(this.isConnected=!0,this.config.connected&&this.executor(this.buildNodeConnectionChangedEvent(),this.node))},e.prototype.disconnect=function(){this.isConnected&&(this.isConnected=!1,this.config.disconnected&&this.executor(this.buildNodeConnectionChangedEvent(),this.node))},e.prototype.buildNodeConnectionChangedEvent=function(){return new r(this,this.node,this.isConnected)},e}(i.Subscription);n.TrivialSubscription=s},{"./subscription":16}]},{},[2]);
//# sourceMappingURL=decl.min.js.map
